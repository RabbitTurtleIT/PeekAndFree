<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<title>피크앤프리</title>

<!-- Google 애드센스 -->
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6014668630461832" crossorigin="anonymous"></script>

<!-- Firebase Scripts -->
<script src="/__/firebase/11.7.1/firebase-app-compat.js"></script>
<script src="/__/firebase/11.7.1/firebase-auth-compat.js"></script>
<script src="/__/firebase/11.7.1/firebase-database-compat.js"></script>
<script src="/__/firebase/11.7.1/firebase-firestore-compat.js"></script>
<script src="/__/firebase/11.7.1/firebase-functions-compat.js"></script>
<script src="/__/firebase/11.7.1/firebase-messaging-compat.js"></script>
<script src="/__/firebase/11.7.1/firebase-storage-compat.js"></script>
<script src="/__/firebase/11.7.1/firebase-analytics-compat.js"></script>
<script src="/__/firebase/11.7.1/firebase-remote-config-compat.js"></script>
<script src="/__/firebase/11.7.1/firebase-performance-compat.js"></script>
<script src="/__/firebase/init.js?useEmulator=true"></script>

<!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">

<!-- Mapbox CSS -->
<link href="https://api.mapbox.com/mapbox-gl-js/v3.12.0/mapbox-gl.css" rel="stylesheet">

<!-- Custom CSS -->
<link href="css/index.css" rel="stylesheet">

<!-- jQuery -->
<script src="js/jquery-3.7.1.min"></script>

<!-- Mapbox JS -->
<script src="https://api.mapbox.com/mapbox-gl-js/v3.12.0/mapbox-gl.js"></script>

<!-- Custom JS -->
<script src="js/index.js"></script>
<script src="js/auth.js"></script>
<script src="js/countryalert.js"></script>
<script src="js/map.js"></script>
</head>

<body>
<!-- Loading Spinner -->
<div id="loading" class="position-fixed w-100 h-100 text-center" style="z-index: 10; display: flex;">
  <div style="margin: auto;">
    <div class="spinner-border" role="status"></div>
  </div>
</div>
<!-- Header -->
<header class="top d-flex justify-content-between align-items-center border-bottom px-4 py-3">
  <div class="logo">
    <img src="img/logo.png" style="height: 50px;" alt="피크앤프리 로고">
  </div>

</header>
<!-- Main Carousel Section -->
<!-- <section class="main-section">
  <div class="carousel-wrapper">
    <div id="mainCarousel" class="carousel slide" data-bs-ride="carousel">
      <div class="carousel-inner rounded">
        <div class="carousel-item active px-5">
          <img src="img/epic_x.png" class="d-block w-100" style="object-fit: cover;" alt="메인 이미지 1">
        </div>
        <div class="carousel-item px-5">
          <img src="img/Rectangle 25.png" class="d-block w-100" style="object-fit: cover;" alt="메인 이미지 2">
        </div>
        <div class="carousel-item px-5">
          <img src="img/Rectangle 25.png" class="d-block w-100" style="object-fit: cover;" alt="메인 이미지 3">
        </div>
        <div class="carousel-item px-5">
          <img src="img/Rectangle 25.png" class="d-block w-100" style="object-fit: cover;" alt="메인 이미지 4">
        </div>
        <div class="carousel-item px-5">
          <img src="img/Rectangle 25.png" class="d-block w-100" style="object-fit: cover;" alt="메인 이미지 5">
        </div>
      </div>
      
      <button class="carousel-control-prev" type="button" data-bs-target="#mainCarousel" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">이전</span>
      </button>
      <button class="carousel-control-next" type="button" data-bs-target="#mainCarousel" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">다음</span>
      </button>
    </div>
    
    <div class="custom-indicators text-center mt-3">
      <img src="img/btn_unselected.png" class="indicator-dot" data-index="0" alt="인디케이터 1">
      <img src="img/btn_unselected.png" class="indicator-dot" data-index="1" alt="인디케이터 2">
      <img src="img/btn_unselected.png" class="indicator-dot" data-index="2" alt="인디케이터 3">
      <img src="img/btn_unselected.png" class="indicator-dot" data-index="3" alt="인디케이터 4">
      <img src="img/btn_unselected.png" class="indicator-dot" data-index="4" alt="인디케이터 5">
    </div>
  </div>
</section> -->
<!-- Travel Planning Section -->
<!-- <section class="select text-center">
  <h1 class="fw-bold mb-2">여행을 얼마나 계획하셨나요?</h1>
  <p class="additional-text text-muted mb-4">peak and free가 여행 준비를 도와드릴게요!</p>
  <div class="btn-toggle-wrap">
    <button id="btn-when" class="btn-toggle active">언제 떠날지 정했어요!</button>
    <button id="btn-where" class="btn-toggle">어디로 떠날지 정했어요!</button>
  </div>
</section> -->


<!-- when section -->
<section id="when-content" class="select-result" style="display: block;">

  <section class="map-section">
    <div class="banner-area">
    </div>
    <div class="map-background">
      
      <div class="map-container" id="when-mapdiv">
        <div id="map"></div>
        <div class="map-filters">
          <div class="dropdown">
          <button class="btn btn-light dropdown-toggle" type="button" id="monthDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            ☀️ 7월
          </button>
          <ul class="dropdown-menu" aria-labelledby="monthDropdown">
            <li><a class="dropdown-item" href="#" data-month="1">1월</a></li>
            <li><a class="dropdown-item" href="#" data-month="2">2월</a></li>
            <li><a class="dropdown-item" href="#" data-month="3">3월</a></li>
            <li><a class="dropdown-item" href="#" data-month="4">4월</a></li>
            <li><a class="dropdown-item" href="#" data-month="5">5월</a></li>
            <li><a class="dropdown-item" href="#" data-month="6">6월</a></li>
            <li><a class="dropdown-item" href="#" data-month="7">7월</a></li>
            <li><a class="dropdown-item" href="#" data-month="8">8월</a></li>
            <li><a class="dropdown-item" href="#" data-month="9">9월</a></li>
            <li><a class="dropdown-item" href="#" data-month="10">10월</a></li>
            <li><a class="dropdown-item" href="#" data-month="11">11월</a></li>
            <li><a class="dropdown-item" href="#" data-month="12">12월</a></li>
          </ul>
          </div>
          <div class="dropdown">
          <button class="btn btn-light dropdown-toggle" type="button" id="seasonDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            전체
          </button>
          <ul class="dropdown-menu" aria-labelledby="seasonDropdown">
            <li><a class="dropdown-item" href="#" data-filter="전체">전체</a></li>
            <li><a class="dropdown-item" href="#" data-filter="성수기">성수기</a></li>
            <li><a class="dropdown-item" href="#" data-filter="비성수기">비성수기</a></li>
          </ul>
        </div>
      </div>
    </div>
    </div>
    </section>
 
<!-- 초기 액션 섹션 (달력 대신) -->
 <section class="calendar-section" id="when-calsec">
<div class="initial-action-overlay" id="initialAction">
  <div class="initial-action-content">
    <div class="airplane-icon">🔐</div>
    <div class="initial-title">여행지는 정하셨나요?</div>
    <div class="initial-subtitle">마음 가는 장소를 고르면, 떠나기 좋은 순간을 알려드릴게요!</div>
  </div>
</div>
<section class="question-text">
  <h3>지금 도쿄는 시즌 한창! 🔥  항공권 가격 확인해볼까요?</h3>
</section>
  
    <div class="container calendar-container">
      <div class="month-navigation">
        <button class="nav-btn" onclick="changeMonth(-1)">‹</button>
        <div class="w-100 d-flex justify-content-around">
          <div class="month-title" id="monthTitle1">2025년 7월</div>
          <div class="month-title" id="monthTitle2">2025년 8월</div>
        </div>
        <button class="nav-btn" onclick="changeMonth(1)">›</button>
      </div>
      
      <div class="row">
        <div class="col-md-6">
          <div class="calendar-grid" id="calendar1"></div>
        </div>
        <div class="col-md-6">
          <div class="calendar-grid" id="calendar2"></div>
        </div>
      </div>
    </div>
    <div id="calendar"></div>
    <div class="align-items-center">
      <iframe border="0" src="https://kr.trip.com/partners/ad/DB4609600?Allianceid=6823342&SID=242256162&trip_sub1=" style="width:728px;height:90px;border:none" frameborder="0" scrolling="no" id="DB4609600"></iframe>
    </div>
  </section>
  </section>

</section>
    <section class="flight-results-section">
      <div class="whereFetchDone"></div>
      <div class="container-sm">
        <div id="nearbyFlightList" class="mt-3 pb-3 text-center"></div>
      </div>
  </section>
<!-- Final Reservation Section -->
<section class="final-reservation" style="display: none;">
  <div class="reservation-background"></div>
  <div class="reservation-content mt-5" style="z-index: 1;">
    <div class="map-background p-3 text-center">
      <div class="container">
        <h4>📅<span id="startDate"></span> ~ <span id="endDate"></span></h4>
        <h4>🌎 <span id="viewLocationName"></span> • 👤<span id="viewCountPeople"></span> • 💺<span id="viewSeatClass"></span></h4>
        <br>
        <div id="skyscannerDiv">

        </div>
      </div>
    </div>
</section>


    <!-- 해외 안전 정보 -->
    <div class="container">
      <div class="content mt-3 mb-3">
        <h4>해외 안전 소식도 알아가세요 ⛑️</h4>
        <div id="countryalert" class="row justify-content-between"></div>
      </div>
    </div>
  </div>


<div class="modal fade" id="detailModal" tabindex="-1" aria-labelledby="detailModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-xl">
    <div class="modal-content">
      <div class="modal-body ">
        <iframe class="w-100" height="600px" src="detailmodal.html" id="detailFrame"></iframe>
      </div>
    </div>
  </div>
</div>

<!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9CJ1EX0RKW"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag() { dataLayer.push(arguments); }
  gtag('js', new Date());
  gtag('config', 'G-9CJ1EX0RKW');
</script>


<!-- Firebase Initialization -->
<script>
  document.addEventListener('DOMContentLoaded', function () {
    
    // 안전정보
    // firebase.functions().httpsCallable('getInformationOfCountry')({iata : "ICN"}).then((result) => {
    //   displaySafetyNotices(result.data.response.body);
    // }).catch((error) => {
    //   console.log("ERROR!", error);
    // });


    // firebase.functions().httpsCallable('getInformationOfCountry')().then((result) => {
    //   console.log("해외안전정보");
    //   displaySafetyNotices(result.data.response.body);
    // }).catch((error) => {
    //   console.log("ERROR!", error);
    // });


    // firebase.analytics();



    firebase.analytics();


    try {
      let app = firebase.app();
      let features = [
        'auth',
        'database',
        'firestore',
        'functions',
        'messaging',
        'storage',
        'analytics',
        'remoteConfig',
        'performance',
      ].filter(feature => typeof app[feature] === 'function');
    } catch (e) {
      console.error(e);
    }
  });
</script>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js" integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
<footer>
<address>
      peak and free 소개 | 이용약관 | @peakandfree
      <!--
      <a href="인스타 계정 링크 넣기">@peakandfree</a>.
      -->
  </address>
</footer>
</body>
</html>